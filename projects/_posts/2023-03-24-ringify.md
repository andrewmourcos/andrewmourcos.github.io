---
layout: projects
title: Design of a Smart Ring
tag: Electronics
description: My engineering capstone project
tools: 
img: Media/projects/ringify/ringify_electronics.png
video: /Media/projects/ringify/render-show-internals.mp4
hidden: false
---
**Table of Contents**
- [Background](#background)
- [What is Going on Inside](#what-is-going-on-inside)
- [A Few Notes on Hardware Design](#a-few-notes-on-hardware-design)
  * [Feature Selection via Power Budgeting](#feature-selection-via-power-budgeting)
  * [Architecture](#architecture)
  * [Basic Flashing and Debug](#basic-flashing-and-debug)
  * [Over-The-Air (OTA) Updates](#over-the-air-ota-updates)
  * [Assembly](#assembly)
- [Summary](#summary)

___
# Background
In 2023, I designed and built a smart ring along with 3 colleagues in Mechatronics Engineering at UWaterloo as our capstone project. Similar devices exist on the market, such as [Oura](https://ouraring.com/), although our device is intentionally focused on HCI. Most existing smart rings only provide health tracking features, but no real method to interact with the device. Our ring (named [Ringify](https://ringify.github.io/)), was specifically designed to allow you to interact with your smartphone without needing to hold it in your hands. Users would simply tap, swipe, or press on the side of the ring with their thumb in order to launch a predefined action on their smartphone (examples include music controls, sending automated SMS, etc).

<video controls>
 <source src="/Media/projects/ringify/demo.mp4" type="video/mp4">
</video>
*Demo of the ring interacting with the smartphone app*

# What is Going on Inside

In total, the ring houses 4 custom PCBs with distinct responsibilities and a shaped Li-Po battery in the bottom cavity.
<video autoplay loop muted playsinline>
 <source src="/Media/projects/ringify/render-show-internals.mp4" type="video/mp4">
</video>
*Render showing ring internals*

In a finalized product, the PCBs would be in a monolithic assembly using a rigid-flex stackup. Although for cost-savings on a first-gen prototype, fly-wiring tiles together was sufficient:
<video autoplay loop muted playsinline style="float:left;">
 <source src="/Media/projects/ringify/asy.mp4" type="video/mp4">
</video>

<!-- <img src="/Media/projects/ringify/half-opened.jpg"> -->
<img src="/Media/projects/ringify/on-finger.jpg">
*First-gen prototype of Ringify*

# A Few Notes on Hardware Design
I was in charge of hardware - which included all of the typical things:
- Component selection
- Dealing with vendors (specialized battery)
- Electrical architecture
- Basic simulations (SPICE)
- Schematics (Altium)
- Layout (Altium)
- Assembly (planning & hands-on)
- Functional Testing
<img src="/Media/projects/ringify/layout-3d.jpg">
*3d view of layout file in Altium*


## Feature Selection via Power Budgeting
At the end of the day, the goal of an engineering challenge like this was to optimize for the user experience - a gross simplification: many features + small size + good battery life = good user experience.

The problem is that these are competing objectives. For instance, if you increase the number of features by including more chips in your design, you're inevitably increasing your minimum board size and hurting your battery life. The same is true for increasing any of the three listed parameters above - they all influence each other.

To tackle this balancing act, my approach was to work with our vendors to get a list of candidate batteries and for each, I would calculate an estimated battery life via power budgeting. An example is shown in the screenshot below:
<img src="/Media/projects/ringify/power-budget.jpg">
*Power budgeting*
In a table, I would list all candidate and alternative chips that may or may not fit into the power budget. Then, I iteratively added/removed components until an acceptable balance was achieved between feature set and battery life.

## Architecture
The aforementioned approach really helped narrow our scope and eventually we developped a hardware architecture similar to what is shown below:
<img src="/Media/projects/ringify/block-diagram.jpg">
*Ringify block-diagram*
Power is delivered from the single-cell li-po battery through a series of protection, charging, and regulation circuits. From there, a BLE-capable System on a Chip (SoC) runs the show. The internal arm-cortex M0+ is programmed to listen for commands over BLE or from the touch pad and react accordingly. Actions include: controlling the on-board LED/buzzer, streaming data from the accelerometer/gyroscope and measuring heart-rate data.

## Basic Flashing and Debug
You'll notice that there are no connectors on this design. This was on purpose. Sure, a connector would give us better reliability, but would add bulkiness to our ring (against the goal of optimizing UX). Instead, our board has a set of programming pads and charging pads. In the future, the ring would mate to a "dock" with spring-loaded pins to press onto those pads. For the time being, however, holding a programmer on the pads by hand is good enough.
<img src="/Media/projects/ringify/programming-pads.jpg">
*Programming pads*

## Over-The-Air (OTA) Updates
I also had to iteratively write firmware to make the device work. Needless to say, holding a programmer on those pads gets bothersome after the 100th time reflashing a board. To solve this, I eventually implemented an OTA feature. This would allow us to launch a script on our host machine that would simply transfer the built firmware image onto the device via BLE (no physical connection required).
<video autoplay loop muted playsinline>
 <source src="/Media/projects/ringify/ota.mp4" type="video/mp4">
</video>
*My python script implementing the client-side OTA features to flash a hex file onto the board*

## Assembly
As you can imagine, when funds are tight, you have to roll up your sleeves and do a lot of work in-house. The electronics assembly was no exception. Rest assured that several hours were spent in a lab to assemble, test, and rework our prototypes. The clip below outlines some notable steps in our process:
<video autoplay loop muted playsinline>
 <source src="/Media/projects/ringify/assembly-process.mp4" type="video/mp4">
</video>
*Assembly process*

Achievement: out of the hundreds of tiny SMT components reworked for this project, I only lost 2-3 0402 resistors total.

# Summary
Overall, Ringify represents the culmination of months of hard-work, research, and experimentation. It's a device that packs a lot of features in a sleek functional design. I'm definitely proud of what we were able to accomplish and look forward to cutting down on board size in future iterations now that the prototype has been tested.

This post focuses on my contribution (hardware), but it wouldn't have been possible to build this device without my colleagues in Mechatronics at UW: Kiran (Software lead), Ganesh (Mech lead), and Steven (Data lead). You can find their information on our project page: [Ringify](https://ringify.github.io/).